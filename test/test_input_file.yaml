# Global scope
functions:
  displacement_ramp: 
    type: ScalarFunction{2, Float64, Float64, Float64}
    expression: (x, t) -> 1.0 * t
  displacement_ramp_2: 
    type: ScalarFunction{2, Float64, Float64, Float64}
    expression: (x, t) -> -0.25 * t
  zero_func:
    type: ScalarFunction{2, Float64, Float64, Float64}
    expression: (x, t) -> 0.0

materials:
  soft rubber:
    model: NeoHookean
    properties:
      bulk modulus: 0.833
      shear modulus: 0.3846

  hard rubber:
    model: NeoHookean
    properties:
      bulk modulus: 50.0
      shear modulus: 1.0

linear solvers:
  direct:
    type: DirectLinearSolver
    factorization method: cholesky

nonlinear solvers:
  newton:
    type: NewtonSolver
    linear solver: direct
    relative tolerance: 1.0e-8
    absolute tolerance: 1.0e-8
    max steps: 100
  trs:
    type: TrustRegionSolver
    linear solver: cg


# Domains scope

domains:
  domain_1:
    mesh:
      type: ExodusDatabase{Int32, Int32, Int32, Float64}
      # file name: test/cube_hex8.g
      # file name: test/cube_tet4_8151.g
      file name: test/mesh_10000.g

    boundary conditions:
      displacement: 
      - nodeset id: 3
        dof: 1
        function: zero_func
      - nodeset id: 3
        dof : 2
        function: zero_func
      # - nodeset id: 1
      #   dof: 3
      #   function: zero_func
      #
      - nodeset id: 1
        dof: 1
        function: zero_func
      - nodeset id: 1
        dof: 2
        function: displacement_ramp
      # - nodeset id: 2
      #   dof: 3
      #   function: zero_func

    sections:
    - type: TotalLagrangeSection
      block id: 1
      # formulation: default
      formulation: plane strain
      material: soft rubber

    # below is TODO
    time stepper:
      type: ConstantTimeStepper
      start time: 0.0
      end time: 1.0
      time step: 0.01

problems:
  forward_1:
    type: ForwardProblem
    domain: domain_1
    solver: newton
    # solver: trs
    results:
      output file name: output.e

  
